<body>
  <header class="header" href="#" [routerLink]="['/dashboard']" routerLinkActive="router-link-active">POEMS BLOG/CREAR UN RATING</header>

  <!-- Contenedor Principal -->
  <div class="main-content d-flex">
    <!-- Sidebar -->
    <app-sidebar class="sidebar">
      <div class="sidebar-icons">
        <i class="bi bi-pencil"></i>
        <i class="bi bi-gear"></i>
      </div>
    </app-sidebar>

    <!-- Sección del Poema y Crear Rating -->
    <div class="container-fluid d-flex flex-grow-1 p-4">
      <!-- Poema -->
      <div class="poem-container">
        <h2 class="poem-title">{{ poem?.title }}</h2>

        <div class="d-flex author-box">
          <div class="author-info"><strong>AUTOR:</strong> {{ poem?.author_name }}</div>
          <div class="genre-info"><strong>GÉNERO:</strong> {{ poem?.genre }}</div>
        </div>

        <div class="poem-content">
          <p *ngFor="let line of poem?.content?.split('\n')">{{ line }}</p>
        </div>
      </div>

      <!-- Crear Rating -->
      <div class="rating-container">
        <h3 class="rating-title">RATING:</h3>

        <div class="d-flex gap-2 mb-3">
          <span *ngFor="let star of [1, 2, 3, 4, 5]" 
                (click)="setRating(star)" 
                (mouseover)="hoverRating = star" 
                (mouseleave)="hoverRating = 0" 
                class="cursor-pointer">
            <i class="fas fa-star fa-2x"
               [ngClass]="{
                 'text-warning': star <= (hoverRating || rating), 
                 'text-secondary': star > (hoverRating || rating)
               }">
            </i>
          </span>
        </div>

        <textarea class="form-control mt-3" placeholder="Realiza tu comentario." [(ngModel)]="userComment"></textarea>

        <button class="btn btn-dark mt-3 w-100 p-3" (click)="saveComment()">GUARDAR</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">©2024 POEMS BLOG / EL LUGAR DONDE LAS PALABRAS COBRAN VIDA.</footer>
</body>
